(function(e){function t(t){for(var r,i,a=t[0],c=t[1],u=t[2],d=0,g=[];d<a.length;d++)i=a[d],s[i]&&g.push(s[i][0]),s[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(g.length)g.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},s={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00e3":function(e,t,n){},"0464":function(e,t,n){},1:function(e,t){},1600:function(e,t,n){"use strict";var r=n("bb24"),s=n.n(r);s.a},"20ce":function(e,t,n){},"239b":function(e,t,n){},"27f1":function(e,t,n){"use strict";var r=n("a35a"),s=n.n(r);s.a},"282d":function(e,t,n){"use strict";var r=n("9483"),s=n.n(r);s.a},3672:function(e,t,n){},"3b29":function(e,t,n){"use strict";var r=n("3672"),s=n.n(r);s.a},"3beb":function(e,t,n){"use strict";var r=n("0464"),s=n.n(r);s.a},"3c9b":function(e,t,n){},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}s.keys=function(){return Object.keys(r)},s.resolve=o,e.exports=s,s.id="4678"},"4db9":function(e,t,n){"use strict";var r=n("00e3"),s=n.n(r);s.a},5122:function(e,t,n){"use strict";var r=n("20ce"),s=n.n(r);s.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("a026"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-content",[n("app-header"),e.isChatOpen?n("chat"):e._e(),n("router-view")],1),n("footer",[n("div",{staticClass:"content has-text-centered"},[e._v("\n      MEET\n      "),n("strong",[e._v("HAV")]),n("br"),e._v("by Daniel Shokri, Idan Elbaz and Chen Mordechai\n    ")])])],1)},o=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[n("div",{staticClass:"navbar-brand"},[n("img",{staticClass:"logo",attrs:{src:"https://i.imgur.com/d7kCfoE.png",width:"170"},on:{click:e.goHome}}),n("a",{staticClass:"navbar-burger burger",class:{"is-active":e.isActive},attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},on:{click:e.toggleNav}},[n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}})])]),n("div",{staticClass:"navbar-menu",class:{"is-active":e.isActive},attrs:{id:"navbarBasicExample"}},[n("div",{staticClass:"navbar-start"}),n("div",{staticClass:"navbar-end"},[null===e.getUser?n("div",[n("div",{staticClass:"navbar-item"},[n("div",{staticClass:"buttons",staticStyle:{"justify-content":"center"}},[n("router-link",{staticClass:"navbar-item home",attrs:{to:"/"},nativeOn:{click:function(t){return e.toggleNav(t)}}},[e._v("Home")]),n("router-link",{staticClass:"navbar-item",attrs:{to:"/user"},nativeOn:{click:function(t){return e.toggleNav(t)}}},[e._v("Dogs around")]),n("router-link",{staticClass:"navbar-item ",attrs:{to:"/signup"},nativeOn:{click:function(t){return e.toggleNav(t)}}},[e._v("Sign Up")]),n("button",{staticClass:"navbar-item login",on:{click:[e.toggleNav,function(t){return e.cardModal()}]}},[e._v("Log In")])],1)])]):e._e(),null!==e.getUser?n("div",{staticClass:"navbar-menu",class:{"is-active":e.isActive}},[n("router-link",{staticClass:"navbar-item home",attrs:{to:"/"},nativeOn:{click:function(t){return e.toggleNav(t)}}},[e._v("Home")]),n("router-link",{staticClass:"navbar-item",attrs:{to:"/user"},nativeOn:{click:function(t){return e.toggleNav(t)}}},[e._v("Dogs around")]),n("p",{staticClass:"navbar-item"},[n("b",[e._v(" "+e._s(e.getUser.owner.fullName))])]),n("b-dropdown",{attrs:{position:"is-bottom-left","aria-role":"menu"}},[n("a",{staticClass:"navbar-item",attrs:{slot:"trigger",role:"button"},slot:"trigger"},[n("v-badge",{attrs:{left:""},scopedSlots:e._u([{key:"badge",fn:function(){return[e.getNotfications?n("span",[e._v(e._s(e.getNotfications.length)+" ")]):e._e()]},proxy:!0}],null,!1,2958402600)}),n("span",[e._v(" Menu")]),n("b-icon",{attrs:{icon:"menu-down"}})],1),n("b-dropdown-item",{attrs:{"aria-role":"menuitem"},on:{click:e.goToMyNotfication},nativeOn:{click:function(t){return e.toggleNav(t)}}},[n("b-icon",{attrs:{icon:"bell"}}),e._v("Notification's "),e.getNotfications?n("span",[e._v("("+e._s(e.getNotfications.length)+") ")]):e._e()],1),n("b-dropdown-item",{attrs:{value:"settings"},on:{click:e.goToMyProfile},nativeOn:{click:function(t){return e.toggleNav(t)}}},[n("b-icon",{attrs:{icon:"settings"}}),e._v("Profile\n          ")],1),n("hr",{staticClass:"dropdown-divider",attrs:{"aria-role":"menuitem"}}),n("b-dropdown-item",{attrs:{value:"logout","aria-role":"menuitem"},on:{click:e.userLogout},nativeOn:{click:function(t){return e.toggleNav(t)}}},[n("b-icon",{attrs:{icon:"logout"}}),e._v("Logout\n          ")],1)],1)],1):e._e()])])])},a=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[n("div",{staticClass:"modal-card",staticStyle:{"min-width":"auto"}},[e._m(0),n("section",{staticClass:"modal-card-body"},[n("b-field",{attrs:{label:"Username"}},[n("b-input",{ref:"username",attrs:{type:"text",placeholder:"Your username",required:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),n("b-field",{attrs:{label:"Password"}},[n("b-input",{attrs:{type:"password","password-reveal":"",placeholder:"Your password",required:""},model:{value:e.user.pass,callback:function(t){e.$set(e.user,"pass",t)},expression:"user.pass"}})],1)],1),e._m(1)])])},u=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[e._v("Login")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button is-primary"},[e._v("Login")])])}],l=n("8055"),d=n.n(l),g=d()("http://localhost:3000"),p=g,f=new r["default"],h={data:function(){return{user:{name:"",pass:""}}},mounted:function(){this.$refs.username.focus()},created:function(){},methods:{loginUser:function(){var e=this;console.log("user login",this.user),this.$store.dispatch({type:"userLogin",currUser:this.user}).then(function(t){f.$emit("userLogin"),p.emit("chat join",e.$store.getters.getcurrLoggedinUser),p.emit("user login",e.$store.getters.getcurrLoggedinUser._id),e.$toast.open({message:"Login Successfully!",type:"is-success",duration:2e3}),e.$emit("close")}).catch(function(t){e.$toast.open({message:"Login Failed!",type:"is-danger",duration:2e3}),e.$emit("close")})}}},m=h,v=n("2877"),b=Object(v["a"])(m,c,u,!1,null,null,null),y=b.exports,k={data:function(){return{isActive:!1,user:{name:"",pass:""}}},methods:{toggleNav:function(){this.isActive=!this.isActive},goHome:function(){this.$router.push("/")},goToMyNotfication:function(){this.$store.dispatch({type:"loadCompInProfile",comp:"Notfication"}),this.$router.push("/user/".concat(this.getUser._id,"/#notfication"))},goToMyProfile:function(){this.$store.dispatch({type:"loadCompInProfile",comp:"Gallery"}),this.$router.push("/user/".concat(this.getUser._id))},cardModal:function(){this.$modal.open({parent:this,component:y,hasModalCard:!0,customClass:"custom-class custom-class-2"})},userLogout:function(){var e=this;this.$store.dispatch({type:"userLogout"}).then(function(){f.$emit("userLoggedOut"),e.$toast.open({message:"You have logout",type:"is-danger",duration:2e3})})}},computed:{getUser:function(){return this.$store.getters.getcurrLoggedinUser},getNotfications:function(){return this.$store.getters.getNotfications},getLink:function(){return"/user/".concat(this.getUser._id)}}},_=k,w=(n("4db9"),Object(v["a"])(_,i,a,!1,null,"3167ffa7",null)),C=w.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[e.user&&e.chatClosed?n("div",{staticClass:"chat"},[n("button",{staticClass:"close-chat",on:{click:e.closeChat}},[e._v("X")]),n("div",{staticClass:"chat-title"},[n("h1",[e._v(e._s(this.user.owner.fullName))]),n("figure",{staticClass:"avatar"},[n("img",{attrs:{src:this.user.profileImg}})])]),n("div",{staticClass:"messages"},[n("div",{staticClass:"messages-content"},[e._l(e.messagess,function(t,r){return n("ul",{key:r},[n("li",{class:{"message-from":t.from===e.user.owner.fullName}},[e._v(e._s(t.from)+" : "+e._s(t.txt)+" ")])])}),n("p",[e._v(e._s(e.msgUserTyping))])],2)]),n("form",{on:{submit:function(t){return t.preventDefault(),e.sendMsg(t)}}},[n("div",{staticClass:"message-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.txt,expression:"txt"}],staticClass:"message-input",attrs:{type:"text",placeholder:"Type message..."},domProps:{value:e.txt},on:{input:[function(t){t.target.composing||(e.txt=t.target.value)},e.userIsTyping]}}),n("button",{staticClass:"message-submit",attrs:{type:"submit"}},[e._v("Send")])])])]):e._e(),n("div",{staticClass:"bg"})])},j=[],x={data:function(){return{user:null,members:null,txt:"",messagess:[],msgUserTyping:"",chatClosed:!0}},created:function(){var e=this;f.$on("chatOpen",function(t,n){e.user=t;var r=[t,n];e.members=r,p.emit("test users chat",r)}),p.on("test got msg",function(t){e.messagess.push(t)}),p.on("chat history",function(t){e.messagess=t});var t=!1;p.on("user isTyping",function(n){t&&clearTimeout(t),e.msgUserTyping=n,t=setTimeout(function(){e.msgUserTyping=""},2500)})},destroyed:function(){p.removeListener("chat newMsg"),p.removeListener("chat history"),p.removeListener("user typing")},methods:{sendMsg:function(){var e=this.$store.getters.getcurrLoggedinUser.owner.fullName,t={from:e,txt:this.txt};p.emit("chat msg",{members:this.members,msg:t}),console.log("chat notification chat cmp",e,this.user),p.emit("chat notification",e,this.user),this.txt=""},userIsTyping:function(){var e=this.$store.getters.getcurrLoggedinUser.owner.fullName;p.emit("user typing",{members:this.members,user:e})},closeChat:function(){this.chatClosed=!this.chatClosed}}},$=x,L=(n("ba25"),Object(v["a"])($,U,j,!1,null,"4fdf4794",null)),I=L.exports,D={components:{AppHeader:C,chat:I},data:function(){return{user:null,userChatWith:null}},methods:{},created:function(){var e=this;this.$store.dispatch({type:"loggedInUser"}),p.on("friend req sent",function(t){console.log("Listen to emit"),e.$toast.open({message:"You have got freind request from ".concat(t),type:"is-success",duration:2e3})}),p.on("chat notification sent",function(t){console.log("chat notification sent"),e.$toast.open({message:"You have got message from ".concat(t),type:"is-success",duration:2e3})}),p.on("friend like sent",function(t){e.$toast.open({message:"You have got liked by ".concat(t),type:"is-success"})}),f.$on("userLogin",function(){e.$store.dispatch({type:"loggedInUser"})}),f.$on("userLoggedOut",function(){e.$store.dispatch({type:"loggedInUser"})})},computed:{isChatOpen:function(){return this.$store.getters.isChatOpen}}},F=D,O=(n("5c0b"),Object(v["a"])(F,s,o,!1,null,null,null)),S=O.exports,P=n("8c4f"),R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("section",{staticClass:"top-section"},[r("img",{staticClass:"mainImg",attrs:{src:n("9d54")}}),r("img",{staticClass:"mobileImg",attrs:{src:n("96fa"),alt:""}}),r("div",{staticClass:"filterAndSelfContainer"},[e._m(0),r("UsersFilter",{on:{setFilter:e.setFilter}})],1)]),e.dogs?r("section",[e._m(1),r("dog-list",{attrs:{dogs:e.dogsToShow,loggedinUser:e.currUser,userLoc:e.userLoc},on:{chatWith:e.userChatWith,delete:e.deleteDog,openChat:e.openChat}}),r("h1",{staticClass:"see-more",on:{click:e.seeMore}},[e._v("\n      See More\n      "),r("b-icon",{staticClass:"icon",attrs:{icon:"chevron-right"}})],1),r("br")],1):e._e(),e.gardens?r("section",[r("div",[e._m(2),r("park-list",{attrs:{userLoc:e.userLoc,park:e.parkToShow,gardens:e.gardens},on:{nextPark:e.plusDivs}}),r("h1",{staticClass:"see-more",on:{click:e.seeMoreParks}},[e._v("\n        See More\n        "),r("b-icon",{staticClass:"icon",attrs:{icon:"chevron-right"}})],1),r("br")],1)]):e._e()])},N=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",{staticClass:"statment"},[e._v("\n        Meet new and\n        intresting\n        "),n("br"),e._v("dogs & people nearby\n      ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[n("strong",[e._v("Nearby Dogs")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[n("strong",[e._v("Nearby Parks")])])}],T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"mapTo"}},[e.dogs&&e.userLoc?n("GmapMap",{ref:"mapRef",attrs:{center:{lat:e.currPark.geometry.location.lat,lng:e.currPark.geometry.location.lng},zoom:e.zoomIn,"map-type-id":"terrain"}},[n("gmap-info-window",{attrs:{options:e.infoOptions,position:e.infoWindowPos,opened:e.infoWinOpen},on:{closeclick:function(t){e.infoWinOpen=!1}}}),e._l(e.dogsToShowNotFriends,function(t,r){return n("GmapMarker",{key:t._id,attrs:{position:t.position,clickable:!0,draggable:!0,icon:e.usersIcons},on:{click:function(n){e.setCenter(t.position,15,n),e.toggleInfoWindow(t,r)}}})}),e._l(e.dogsToShowFriends,function(t,r){return n("GmapMarker",{key:r,attrs:{position:t.position,clickable:!0,draggable:!0,icon:e.friendsIcon},on:{click:function(n){e.setCenter(t.position,15,n),e.toggleInfoWindow(t,r)}}})}),n("GmapMarker",{attrs:{userLocation:"",position:e.userLoc.position,clickable:!0,draggable:!0,icon:e.myIcon},on:{click:function(t){e.setCenter(e.userLoc.position,15,t),e.toggleInfoWindow(e.userLoc,0)}}}),n("GmapMarker",{attrs:{userLocation:"",position:e.currPark.geometry.location,clickable:!0,draggable:!0},on:{click:function(t){e.setCenter(e.currPark.geometry.location,15,t),e.toggleInfoWindow(e.currPark.geometry,0)}}})],2):e._e()],1)},M=[],q=(n("7f7f"),n("96cf"),n("3b8d")),E=n("bc3a"),B=n.n(E),z="/api/",W=B.a.create({withCredentials:!0});function A(e){return J.apply(this,arguments)}function J(){return J=Object(q["a"])(regeneratorRuntime.mark(function e(t){var n,r,s,o,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"get",r=i.length>2&&void 0!==i[2]?i[2]:null,s=i.length>3&&void 0!==i[3]?i[3]:null,e.prev=3,e.next=6,W({url:"".concat(z).concat(t),method:n,data:r,params:s});case 6:return o=e.sent,e.abrupt("return",o.data);case 10:e.prev=10,e.t0=e["catch"](3),401===e.t0.response.status&&hn.push("/");case 13:case"end":return e.stop()}},e,null,[[3,10]])})),J.apply(this,arguments)}var H={get:function(e,t){return A(e,"GET",null,t)},post:function(e,t){return A(e,"POST",t)},put:function(e,t){return A(e,"PUT",t)},delete:function(e,t){return A(e,"DELETE",t)}},Y={query:Z,add:se,remove:oe,getById:re,update:ie,logIn:ce,logOut:le,signUp:ue,getLoggedinUser:ae,getPosition:V,sendFriendReq:X,getFriendReq:ne,makeFriendshipOn:Q,rejectFriendshipOn:ee,removeFriendship:te,addLike:K};function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"dog/".concat(e)}function V(){return new Promise(function(e,t){navigator.geolocation.getCurrentPosition(e,t)})}function Z(e){return H.get(G(),e)}function X(e){var t=JSON.parse(sessionStorage.getItem("LoggedUser"));return H.put(G("sendFriendReq"),{dogId:e,user:t[0]})}function K(e){var t=JSON.parse(sessionStorage.getItem("LoggedUser"));return H.put(G("addLike"),{dogId:e,user:t[0]})}function Q(e){var t=JSON.parse(sessionStorage.getItem("LoggedUser"));return H.put(G("makeFriendship"),{dog:e,user:t[0]})}function ee(e){var t=JSON.parse(sessionStorage.getItem("LoggedUser"));return H.put(G("rejectFriendship"),{dog:e,user:t[0]})}function te(e){var t=JSON.parse(sessionStorage.getItem("LoggedUser"));return H.put(G("removeFriendship"),{dogId:e,user:t[0]})}function ne(e,t,n){var r={dogId:e,dogImg:t,dogName:n};return H.post(G("getFriendReq"),r)}function re(e){return H.get(G(e))}function se(e){return H.post(G("add"),e)}function oe(e){return H.delete(G(e))}function ie(e){return H.put(G("edit/".concat(e._id)),e)}function ae(){var e=JSON.parse(sessionStorage.getItem("LoggedUser"));return null===e?Promise.resolve(e):Promise.resolve(e[0])}function ce(e){return H.post(G(),e).then(function(e){if(!e)throw new Error("Cant Login");return sessionStorage.setItem("LoggedUser",JSON.stringify(e)),e[0]}).catch(function(e){throw console.log(e,"at front service"),e})}function ue(e){return H.post(G("signup"),e).then(function(e){return e}).catch(function(e){throw console.log(e),e})}function le(){return H.post(G("logout")).then(function(){sessionStorage.clear()}).catch(function(e){throw console.log("Could not logout",e),e})}var de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.dogs&&e.currPark?n("section",{staticClass:"userLiList"},[n("v-layout",{attrs:{row:""}},[n("v-flex",{staticClass:"containor"},[n("v-card",[n("v-toolbar",{attrs:{color:"teal",dark:""}},[n("v-toolbar-title",{staticClass:"text-xs-center"},[e._v(e._s(e.currPark.name))]),n("v-spacer")],1),n("v-list",{attrs:{subheader:""}},[n("v-subheader",[e._v("Dogs in the park")]),e._l(e.dogsToShow,function(t){return n("v-list-tile",{key:t._id,attrs:{avatar:""},on:{click:function(n){return e.goToUserProfile(t._id)}}},[n("v-list-tile-avatar",[n("img",{attrs:{src:t.profileImg}})]),t.distanceTextFromUser?n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:e._s(t.preference.name+" & "+t.owner.fullName+" ("+t.distanceValueFromUser/1e3+"km from you)")}})],1):n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:e._s(t.preference.name+" & "+t.owner.fullName)}})],1)],1)})],2),n("v-divider")],1)],1)],1)],1):e._e()},ge=[],pe="AIzaSyDg8EFZZ2HBS2X6aqRzwRwfEbPO9SJLPfc",fe={getInfo:he,getDist:me,getImg:ve};function he(e){return B.a.get("".concat(be(),"/getPos?lat=").concat(e.lat,"&lng=").concat(e.lng)).then(function(e){return e.data})}function me(e){return B.a.get("".concat(be(),"/getDistance?dist=").concat(e.userLoc,"&userdist=").concat(e.usersLoc)).then(function(e){return e.data})}function ve(e){return"https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=".concat(e,"&key=").concat(pe)}function be(){return"/api/google"}var ye={name:"usersList",data:function(){return{userLoc:null,dogs:null,dogsList:[]}},props:["currPark"],computed:{distanceInKm:function(e){return e.distanceValueFromUser/1e3},dogsToShow:function(){for(var e=[],t=0;t<this.dogs.length;t++){var n=function(e){return e*Math.PI/180},r=this.dogs[t].location.lat,s=this.dogs[t].location.lng,o=this.currPark.geometry.location.lat,i=this.currPark.geometry.location.lng,a=6371,c=n(o-r),u=n(i-s);r=n(r),o=n(o);var l=Math.sin(c/2)*Math.sin(c/2)+Math.sin(u/2)*Math.sin(u/2)*Math.cos(r)*Math.cos(o),d=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),g=a*d;g<.7&&e.push(this.dogs[t])}return e}},methods:{goToUserProfile:function(e){this.$store.dispatch({type:"loadCompInProfile",comp:"Gallery"}),this.$router.push("/user/".concat(e))}},components:{},created:function(){var e=this;this.$store.dispatch({type:"loadDogs"}).then(function(){e.$store.dispatch({type:"loadUserLoc"}).then(function(){e.$store.dispatch({type:"loadSortDogs"}).then(function(){e.dogs=e.$store.getters.dogsToShow})})})}},ke=ye,_e=(n("a5fc"),Object(v["a"])(ke,de,ge,!1,null,null,null)),we=_e.exports,Ce={name:"usersMap",data:function(){return{userLoc:null,currUser:null,dogs:null,langs:["he","en"],times:[1552552892953,1552552891953,1552522892953],zoomIn:18,posIsrael:{lat:32.088007,lng:34.8031678},infoWindowPos:null,infoWinOpen:!1,currentMidx:null,notFriends:[],friends:[],infoOptions:{content:"",pixelOffset:{width:0,height:-35}}}},props:["currPark"],computed:{dogsToShowNotFriends:function(){for(var e=[],t=0;t<this.notFriends.length;t++)e.push({position:{lat:this.notFriends[t].location.lat,lng:this.notFriends[t].location.lng},infoText:"<p>".concat(this.notFriends[t].owner.fullName,"</p>")});return e},dogsToShowFriends:function(){if(null!==this.currUser){for(var e=[],t=0;t<this.friends.length;t++)e.push({position:{lat:this.friends[t].location.lat,lng:this.friends[t].location.lng},infoText:"<p>".concat(this.friends[t].owner.fullName,"</p>")});return e}},userLocation:function(){return this.userLoc},usersIcons:function(){return"https://img.icons8.com/carbon-copy/40/000000/dog.png"},myIcon:function(){return"https://img.icons8.com/ultraviolet/40/000000/dog.png"},friendsIcon:function(){return" https://img.icons8.com/color/40/000000/dog.png"}},methods:{setCenter:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;arguments.length>2&&arguments[2];this.$refs.mapRef.$mapPromise.then(function(r){r.panTo(e),t.zoomIn=n})},toggleInfoWindow:function(e,t){e.position||(e.position=e.location),this.infoWindowPos=e.position,e.infoText||(e.infoText=this.currPark.name),this.infoOptions.content=e.infoText,this.currentMidx==t?this.infoWinOpen=!this.infoWinOpen:(this.infoWinOpen=!0,this.currentMidx=t)}},components:{},created:function(){var e=this;this.$store.dispatch({type:"loadDogs"}).then(function(){e.$store.dispatch({type:"loggedInUser"}).then(function(){if(e.dogs=e.$store.getters.dogsToShow,e.currUser=e.$store.getters.getLoggedinUser,null===e.currUser&&(e.currUser={friends:[]}),e.currUser.friends.length>0)for(var t=0;t<e.currUser.friends.length;t++)for(var n=0;n<e.dogs.length;n++)e.currUser.friends[t].userId===e.dogs[n]._id?e.friends.push(e.dogs[n]):e.notFriends.push(e.dogs[n]);else e.notFriends=e.dogs.map(function(e){return e});Y.getPosition().then(function(t){if(null!==e.currUser)var n='<p style="margin:0 auto">'.concat(e.currUser.owner.fullName,"</p>");else n="<p>Guest</p>";console.log(e.userLoc),e.userLoc={position:{lat:t.coords.latitude,lng:t.coords.longitude},infoText:n}})})})}},Ue=Ce,je=(n("b461"),Object(v["a"])(Ue,T,M,!1,null,"1c69099e",null)),xe=je.exports,$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.gardens?n("section",{staticClass:"parksList"},[n("v-layout",{staticStyle:{"justify-content":"space-between",padding:"25px"},attrs:{row:"",wrap:""}},[e._l(e.gardens,function(t){return n("div",{key:t.id,staticClass:"onlyDesk"},[t?n("parkPrev",{staticStyle:{"margin-bottom":"20px"},attrs:{park:t}}):e._e()],1)}),n("div",{staticClass:"onlyCell prev-container"},[e.park?n("parkPrev",{attrs:{park:e.park},on:{nextPark:e.plusDivs}}):e._e()],1)],2)],1):e._e()},Le=[],Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.park?n("main",{directives:[{name:"touch",rawName:"v-touch:swipe",value:e.swipeHandler,expression:"swipeHandler",arg:"swipe"}]},[n("figure",[n("img",{attrs:{"aspect-ratio":"1.75",src:e.park.img},on:{click:e.goParkDetails}})]),n("br"),n("div",{staticClass:"content-container"},[n("a",{on:{click:e.goParkDetails}},[n("h3",{staticClass:"title"},[e._v(e._s(e.park.name))])]),n("section",{staticClass:"content"},[n("button",{staticClass:"plus onlyCell",on:{click:function(t){return e.plusDivs(-1)}}},[e._v("❮")]),n("button",{staticClass:"minus onlyCell",on:{click:function(t){return e.plusDivs(1)}}},[e._v("❯")]),n("p",{staticClass:"subtitle padding"},[e._v(e._s(e.distance/100)+" km from you")]),n("br"),n("p",{staticClass:"subtitle"},[e._v("There are  dogs in park")]),n("br"),e.park.rating?n("p",{staticClass:"rate"},[n("b-icon",{staticClass:"b-icon",attrs:{icon:"star"}}),e._v("\n        "+e._s(e.park.rating)+" (1k+)\n      ")],1):e._e()])])]):e._e()},De=[],Fe=(n("6b54"),{props:{park:Object},data:function(){return{user:null,dogs:null,numOfStars:3}},created:function(){this.numOfStars=this.park.rating},methods:{goParkDetails:function(){var e=this;this.$store.dispatch({type:"goToPark",park:this.park}).then(function(){e.$router.push("/park-details")})},plusDivs:function(e){this.$emit("nextPark",e)},swipeHandler:function(e){"right"===e?this.plusDivs(1):"left"===e&&this.plusDivs(-1)}},computed:{distance:function(){if(this.park.distanceValueFromUser){var e=this.park.distanceValueFromUser;return e.toString().substring(0,3)}},imgToLoad:function(){return this.park.photos[1]?this.park.img:"http://eaawaj.com/wp-content/uploads/2018/06/4241508-park.jpg"}}}),Oe=Fe,Se=(n("bcd6"),Object(v["a"])(Oe,Ie,De,!1,null,"52dfce3c",null)),Pe=Se.exports,Re={props:["park","gardens"],name:"parksList",data:function(){return{}},components:{parkPrev:Pe},methods:{plusDivs:function(e){this.$emit("nextPark",e)}}},Ne=Re,Te=(n("9e74"),Object(v["a"])(Ne,$e,Le,!1,null,"36d7f063",null)),Me=Te.exports,qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.dogs?n("v-layout",{attrs:{row:"",wrap:""}},[n("div",{staticClass:"prev-container"},[n("dog-preview",{staticClass:"onlyCell",staticStyle:{width:"307px"},attrs:{loggedinUser:e.loggedinUser,dog:e.dogToShow,userLoc:e.userLoc},on:{nextDog:e.plusDivs,delete:e.emitDeleteDog,chatWith:e.userChatWith,openChat:e.openChat}})],1),e._l(e.dogs,function(t){return n("v-flex",{key:t._id,staticClass:"onlyDesk",attrs:{xs12:"",sm6:"",mb4:"",lg3:""}},[n("dog-preview",{attrs:{loggedinUser:e.loggedinUser,dog:t,userLoc:e.userLoc},on:{openChat:e.openChat,chatWith:e.userChatWith,delete:e.emitDeleteDog}})],1)})],2):e._e()},Ee=[],Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.dog?n("div",{directives:[{name:"touch",rawName:"v-touch:swipe",value:e.swipeHandler,expression:"swipeHandler",arg:"swipe"}],staticClass:"grid"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card__thumbnail",style:{"background-image":"url("+e.imgToLoad+")",height:"300px"},on:{click:function(t){return e.openProfile(e.dog._id)}}}),n("span",{staticClass:"card__content"},[n("button",{staticClass:"plus onlyCell",on:{click:function(t){return e.plusDivs(-1)}}},[e._v("❮")]),n("button",{staticClass:"minus onlyCell",on:{click:function(t){return e.plusDivs(1)}}},[e._v("❯")]),n("h3",[e._v(e._s(e.dog.owner.fullName)+" and "+e._s(e.dog.preference.name))]),n("span",{staticClass:"ago"},[e._v(e._s(e.dog.preference.name)+" is "+e._s(e.dog.preference.type))]),n("p",[e._v(e._s(e.distanceFromCurrUser)+" km from you")])]),n("div",{staticClass:"card__footer"},[n("div",{staticClass:"card__footer__meta"},[n("span",{staticClass:"meta",attrs:{tooltip:"Like"}},[n("button",{on:{click:function(t){return e.addLike(e.dog._id)}}},[n("b-icon",{staticClass:"color",attrs:{icon:"thumb-up"}})],1)]),n("span",{staticClass:"meta more",attrs:{tooltip:"Likes"}},[e._v("\n          "+e._s(e.dog.gotLikes.length)+"\n          "),n("i",{staticClass:"fa fa-eye"})]),n("span",{staticClass:"meta",attrs:{tooltip:"Friendog"}},[n("button",{on:{click:function(t){return e.addFriend(e.dog._id)}}},[n("b-icon",{staticClass:"color",attrs:{icon:"account-plus"}})],1)]),n("span",{staticClass:"meta more",attrs:{tooltip:"Friends"}},[e._v("\n          "+e._s(e.dog.friends.length)+"\n          "),n("i",{staticClass:"fa fa-share"})]),n("span",{staticClass:"meta",attrs:{tooltip:"chat"}},[n("button",{on:{click:function(t){return t.preventDefault(),e.openChat(e.dog)}}},[n("b-icon",{staticClass:"color",attrs:{icon:"chat-processing"}})],1)])])])])]):e._e()},ze=[],We=(n("7514"),{props:["dog","loggedinUser","userLoc"],data:function(){return{}},methods:{openChat:function(e){null!==this.loggedinUser?this.$emit("openChat",e):this.$toast.open({message:"You need to login",type:"is-danger",duration:2e3})},plusDivs:function(e){this.$emit("nextDog",e)},swipeHandler:function(e){"right"===e?this.plusDivs(1):"left"===e&&this.plusDivs(-1)},addFriend:function(e){var t=this;if(null===this.loggedinUser)this.$toast.open({message:"You need to login",type:"is-danger",duration:2e3});else{var n=this.loggedinUser.friends,r=this.loggedinUser.sentFriendsReq;n.find(function(e){return e.userId===t.dog._id})?this.$toast.open({message:"You are already friends",type:"is-danger",duration:2e3}):r.find(function(e){return e===t.dog._id})?this.$toast.open({message:"You have already sent friend request",type:"is-danger",duration:2e3}):this.$store.dispatch({type:"updateFriendReq",dogId:e}).then(function(){p.emit("friend req",t.dog,t.$store.getters.getcurrLoggedinUser),t.$toast.open({message:"friend request successfully sent!",type:"is-success",duration:2e3})})}},addLike:function(e){var t=this;if(null===this.loggedinUser)this.$toast.open({message:"You need to login",type:"is-danger",duration:2e3});else{var n=this.loggedinUser.sentLikes;n.find(function(e){return e===t.dog._id})?this.$toast.open({message:"You are already Liked",type:"is-danger",duration:2e3}):this.$store.dispatch({type:"updateFriendLike",dogId:e}).then(function(){t.$toast.open({message:"Like successfully!",type:"is-success",duration:2e3}),p.emit("friend like",t.dog,t.$store.getters.getcurrLoggedinUser)})}},goToEdit:function(e){this.$router.push("/user/edit/".concat(e))},emitDeleteDog:function(e){this.$emit("delete",e)},openProfile:function(e){this.$store.dispatch({type:"loadCompInProfile",comp:"Gallery"}),this.$router.push("/user/".concat(e))}},computed:{distanceFromCurrUser:function(){var e=this.dog.location.lat,t=this.dog.location.lng,n=this.userLoc.position.lat,r=this.userLoc.position.lng,s=6371,o=l(n-e),i=l(r-t);e=l(e),n=l(n);var a=Math.sin(o/2)*Math.sin(o/2)+Math.sin(i/2)*Math.sin(i/2)*Math.cos(e)*Math.cos(n),c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),u=s*c;function l(e){return e*Math.PI/180}var d=u.toString().substring(0,4);return d},gender:function(){return"female"===this.dog.preference.gender?"she":"he"},getLocation:function(){this.dog.location},imgToLoad:function(){return this.dog.profileImg?this.dog.profileImg:"https://cdn1.medicalnewstoday.com/content/images/articles/322/322868/golden-retriever-puppy.jpg"}},components:{}}),Ae=We,Je=(n("1600"),Object(v["a"])(Ae,Be,ze,!1,null,"30fe42b0",null)),He=Je.exports,Ye={props:["dogs","loggedinUser","userLoc"],data:function(){return{indexRoll:0}},computed:{dogToShow:function(){return this.dogs[this.indexRoll]}},methods:{openChat:function(e){this.$emit("openChat",e),console.log("list open")},emitDeleteDog:function(e){this.$emit("delete",e)},plusDivs:function(e){this.indexRoll>=0&&this.indexRoll<this.dogs.length&&(1===e&&this.indexRoll===this.dogs.length-1?(this.indexRoll=0,this.dogToShow):-1===e&&0===this.indexRoll?(this.indexRoll=this.dogs.length-1,this.dogToShow):(this.indexRoll+=e,this.dogToShow))},userChatWith:function(e){this.$emit("chatWith",e)}},components:{DogPreview:He}},Ge=Ye,Ve=(n("3beb"),Object(v["a"])(Ge,qe,Ee,!1,null,"08336ab8",null)),Ze=Ve.exports,Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.txt,expression:"filterBy.txt"}],staticClass:"users-search input",attrs:{type:"text",placeholder:"Search your Dogfriends"},domProps:{value:e.filterBy.txt},on:{input:[function(t){t.target.composing||e.$set(e.filterBy,"txt",t.target.value)},e.searchUser]}}),n("a",{staticClass:"button search-btn",on:{click:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchUser(t)}}},[n("b-icon",{attrs:{icon:"magnify"}})],1)])},Ke=[],Qe={data:function(){return{filterBy:{txt:""}}},methods:{searchUser:function(){this.$emit("setFilter",this.filterBy)}}},et=Qe,tt=(n("83c1"),Object(v["a"])(et,Xe,Ke,!1,null,"f463b8aa",null)),nt=tt.exports,rt={name:"home",data:function(){return{dogs:null,currUser:null,userLoc:null,gardens:[],photos:[],indexRoll:0}},created:function(){var e=this;this.$store.dispatch({type:"loggedInUser"}).then(function(){e.currUser=e.$store.getters.getcurrLoggedinUser}),this.$store.dispatch({type:"loadCompInProfile",comp:"gallery"}),this.$store.dispatch({type:"loadDogs"}).then(function(){e.$store.dispatch({type:"loadUserLoc"}).then(function(){e.userLoc=e.$store.getters.getUserLoc,e.$store.dispatch({type:"loadSortDogs"}).then(function(){e.dogs=e.$store.getters.dogsToShow,fe.getInfo(e.userLoc.position).then(function(t){for(var n=0;n<4;n++)e.gardens.push(t[n]),e.photos.push(e.gardens[n].photos[0].photo_reference),e.gardens[n].img=fe.getImg(e.gardens[n].photos[0].photo_reference);var r=JSON.parse(JSON.stringify(e.gardens));e.$store.dispatch({type:"loadParks",gardens:r}).then(function(){e.$store.dispatch({type:"loadUserLoc"}).then(function(){e.$store.dispatch({type:"loadParksLocFromUser"}).then(function(){e.gardens=e.$store.getters.getParks})})})})})})}),f.$on("userLogin",function(){e.$store.dispatch({type:"loggedInUser"}).then(function(){e.currUser=e.$store.getters.getcurrLoggedinUser})}),f.$on("userLoggedOut",function(){e.$store.dispatch({type:"loggedInUser"}).then(function(){e.currUser=e.$store.getters.getcurrLoggedinUser})})},computed:{dogsToShow:function(){return this.$store.getters.dogsToShow},parkToShow:function(){if(this.gardens.length>0)return this.gardens[this.indexRoll]}},methods:{plusDivs:function(e){this.indexRoll>=0&&this.indexRoll<4&&(1===e&&3===this.indexRoll?(this.indexRoll=0,this.parkToShow):-1===e&&0===this.indexRoll?(this.indexRoll=3,this.parkToShow):(this.indexRoll+=e,this.parkToShow))},openChat:function(e){var t=this;this.$store.dispatch({type:"isChatOpen",dog:e}).then(function(){var n=t.$store.getters.getcurrLoggedinUser;t.$store.getters.isChatOpen&&f.$emit("chatOpen",e,n),p.emit("chat join",t.$store.getters.getcurrLoggedinUser)})},seeMore:function(){this.$router.push("/user")},setFilter:function(e){var t=this;console.log(e),this.$store.dispatch({type:"setFilter",filterBy:e}).then(function(){t.$router.push("/user")})},userChatWith:function(e){this.$emit("chatWith",e)},deleteDog:function(e){this.$store.dispatch({type:"deleteDog",dogId:e})},seeMoreParks:function(){this.$router.push("/parks")}},components:{UserListMap:xe,ParkList:Me,UserLiList:we,UsersFilter:nt,DogList:Ze}},st=rt,ot=(n("ec74"),Object(v["a"])(st,R,N,!1,null,"67a9191f",null)),it=ot.exports,at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-wrapper bg-red p-t-180 p-b-100 font-robo"},[n("div",{staticClass:"wrapper wrapper--w960"},[n("div",{staticClass:"card card-2"},[n("div",{staticClass:"card-heading"}),n("div",{staticClass:"card-body"},[n("h2",{staticClass:"title"},[e._v("Registration")]),n("v-form",{attrs:{id:"signup-form"},on:{submit:function(t){return t.preventDefault(),e.saveUser(t)}}},[n("v-text-field",{attrs:{rules:e.nameRules,label:"UserName",required:""},model:{value:e.user.userName,callback:function(t){e.$set(e.user,"userName",t)},expression:"user.userName"}}),n("v-text-field",{staticClass:"input-group--focused",attrs:{name:"input-10-2",label:"Password",type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),n("v-btn",{attrs:{color:"dark",type:"submit",form:"signup-form"}},[e._v("Register")])],1)],1)])])])},ct=[],ut={data:function(){return{user:{owner:{fullName:"",age:27,gender:"female"},preference:{name:"puki",age:10,type:"doberman pinscher",gender:"male",hobbies:["travel,play"],favFood:"Bonzo"},userName:"",password:"",isAdmin:!1,friends:[],gotFriendsReq:[],sentFriendsReq:[],address:"Israel, TelAviv",location:{lat:32.07956,lng:34.7985392},notifications:[],profileImg:"",backImg:"https://cdn.pixabay.com/photo/2018/01/05/02/50/lonely-3062045_960_720.jpg",gallery:[],gotLikes:[],sentLikes:[]},valid:!1,nameRules:[function(e){return!!e||"Name is required"},function(e){return e.length<=10||"Name must be less than 10 characters"}],email:""}},methods:{saveUser:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=JSON.parse(JSON.stringify(this.user)),e.prev=1,e.next=4,this.$store.dispatch({type:"userSignup",user:t});case 4:return n=e.sent,this.$toast.open({message:"Register Successfully!",type:"is-success",duration:2e3}),this.$router.push("/"),e.abrupt("return",n);case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));function t(){return e.apply(this,arguments)}return t}()}},lt=ut,dt=(n("7e08"),Object(v["a"])(lt,at,ct,!1,null,"44f5f299",null)),gt=dt.exports,pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.dogs&&e.userLoc?n("section",[n("UsersFilter",{on:{setFilter:e.setFilter}}),n("dog-list",{attrs:{userLoc:e.userLoc,loggedinUser:e.currUser,dogs:e.dogs},on:{openChat:e.openChat,delete:e.deleteDog,chatWith:e.userChatWith}})],1):e._e()},ft=[],ht={data:function(){return{userLoc:null,sortDog:!1,currUser:null}},created:function(){var e=this;this.$store.dispatch({type:"loadCompInProfile",comp:"gallery"}),this.$store.dispatch({type:"loggedInUser"}).then(function(){e.currUser=e.$store.getters.getcurrLoggedinUser}),this.$store.dispatch({type:"loadDogs"}).then(function(){e.$store.dispatch({type:"loadUserLoc"}).then(function(){e.userLoc=e.$store.getters.getUserLoc,e.$store.dispatch({type:"loadSortDogs"}).then(function(){e.sortDog=!0})})})},methods:{openChat:function(e){var t=this;this.$store.dispatch({type:"isChatOpen",dog:e}).then(function(){var n=t.$store.getters.getcurrLoggedinUser;t.$store.getters.isChatOpen&&f.$emit("chatOpen",e,n),p.emit("chat join",t.$store.getters.getcurrLoggedinUser)})},setFilter:function(e){this.$store.dispatch({type:"setFilter",filterBy:e}),this.$store.dispatch({type:"loadDogs"})},deleteDog:function(e){this.$store.dispatch({type:"deleteDog",dogId:e})},userChatWith:function(e){this.$emit("chatWith",e)}},computed:{dogs:function(){var e=this,t=this.$store.getters.getDogs;if(null===this.currUser)return t;var n=t.filter(function(t){return t._id!==e.currUser._id});return n}},components:{dogList:Ze,UsersFilter:nt}},mt=ht,vt=Object(v["a"])(mt,pt,ft,!1,null,"0270b5a4",null),bt=vt.exports,yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.dog&&e.comp?n("section",[n("div",{staticClass:"profile-section"},[n("user-gallery",{attrs:{user:e.dog}})],1),n("div",{staticClass:"container"},[n("main",[n("div",{staticClass:"row"},[n("div",{staticClass:"left col-lg-4"},[n("div",{staticClass:"photo-left"},[n("div",{staticClass:"contain-flex"},[n("div",{staticClass:"user-profile-img"},[n("img",{staticClass:"photo",attrs:{src:e.imgToLoad}}),n("h4",{staticClass:"name"},[e._v(e._s(e.dog.owner.fullName)+" and "+e._s(e.dog.preference.name))]),e.notMyProfile||!e.dog?n("div",{staticClass:"btn-wrapper",class:{alerdyFriend:e.isFriends}},[n("span",{staticClass:"add-friend",on:{click:function(t){return e.addFriend(e.dog._id)}}},[e._v("Add Friend")])]):e._e(),n("span",{staticClass:"like-friend"},[e._v("Likes ("+e._s(e.dog.gotLikes.length)+")")])])])])])]),e.notMyProfile||!e.dog?n("div",{staticClass:"btn-wrapper"}):e._e(),n("div",{staticClass:"row-comp"},[n("v-subheader",[e._v("About Me")]),n("v-divider",{attrs:{inset:""}}),n("p",{staticClass:"desc"},[e._v("\n          "+e._s(e.dog.owner.fullName)+",\n          "+e._s(e.dog.owner.age)+" year old\n          "+e._s(e.dog.preference.name)+" is my dog\n          "+e._s(e.gender)+" is "+e._s(e.dog.preference.type)+"\n          "),e.notMyProfile?n("span",{staticClass:"meta more",attrs:{tooltip:"chat"}},[n("button",{on:{click:function(t){return t.preventDefault(),e.openChat(e.dog)}}},[n("b-icon",{attrs:{icon:"chat-processing"}})],1)]):e._e()]),n("v-subheader",[e._v("Friends")]),n("v-divider",{attrs:{inset:""}}),n("div",{staticStyle:{width:"100%"}},[n("user-friends",{attrs:{user:e.dog},on:{openChat:e.openChat,removeUser:e.removeUser,goTO:e.onGoTo}})],1),n("v-subheader",[e._v("Messages")]),n("v-divider",{attrs:{inset:""}}),n("div",{staticStyle:{width:"100%"}},[n("user-messages",{attrs:{user:e.dog}})],1),n("v-subheader",[e._v("Notfication")]),n("v-divider",{attrs:{inset:""}}),n("a",{staticStyle:{width:"100%"},attrs:{id:"notfication",name:"notfication"}},[e.notMyProfile&&e.dog?e._e():n("user-notfication",{attrs:{user:e.dog},on:{rejectReq:e.rejectFriendReq,makeFriends:e.makeFriendship}})],1)],1)])])]):e._e()},kt=[],_t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("section",{staticClass:"gallery"},e._l(e.user.gallery,function(e,t){return n("div",{key:e._id,class:"gallery_item"+ ++t},[n("img",{attrs:{src:e}})])}),0),n("div",{staticClass:"mobile-gallery"},[n("v-carousel",e._l(e.user.gallery,function(e,t){return n("v-carousel-item",{key:t,attrs:{src:e}})}),1)],1)])},wt=[],Ct={props:["user"],data:function(){return{num:0}},methods:{},computed:{}},Ut=Ct,jt=(n("27f1"),Object(v["a"])(Ut,_t,wt,!1,null,"7ad17073",null)),xt=jt.exports,$t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.user?n("div",{staticClass:"friends-container"},e._l(e.user.friends,function(t){return n("div",{key:t.userId,staticClass:"card"},[n("img",{attrs:{src:t.userImg,alt:"Avatar"},on:{click:function(n){return e.goToUser(t.userId)}}}),n("div",{staticClass:"container"},[n("h4",[n("b",{staticClass:"dogName",on:{click:function(n){return e.goToUser(t.userId)}}},[e._v(e._s(t.userName))])]),n("br"),e.myProfile?n("span",{staticClass:"meta more chat",attrs:{tooltip:"chat"}},[n("button",{on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.openChat(t)}}},[n("b-icon",{attrs:{icon:"chat-processing"}})],1)]):e._e(),e.myProfile?n("span",{staticClass:"meta more remove",attrs:{tooltip:"remove"}},[n("button",{on:{click:function(n){return e.removeUser(t.userId)}}},[n("b-icon",{attrs:{icon:"account-remove"}})],1)]):e._e()])])}),0):e._e()},Lt=[],It={data:function(){return{show:!1}},props:["user"],methods:{openChat:function(e){this.$emit("openChat",e),console.log("prev open")},goToUser:function(e){this.$emit("goTO",e)},removeUser:function(e){this.$emit("removeUser",e)}},computed:{myProfile:function(){return!!this.loggedinUser&&this.loggedinUser._id===this.user._id},loggedinUser:function(){if(this.$store.getters.getcurrLoggedinUser)return this.$store.getters.getcurrLoggedinUser}}},Dt=It,Ft=(n("282d"),Object(v["a"])(Dt,$t,Lt,!1,null,"0cda9753",null)),Ot=Ft.exports,St=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v(" messages")])},Pt=[],Rt={data:function(){return{}},methods:{}},Nt=Rt,Tt=Object(v["a"])(Nt,St,Pt,!1,null,null,null),Mt=Tt.exports,qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.user?n("section",{staticClass:"userLiList"},[n("v-layout",{attrs:{row:""}},[n("v-flex",[n("v-card",[e.user.gotFriendsReq.length?n("section",[n("v-toolbar",{attrs:{dense:"",expand:"",dark:""}},[n("v-toolbar-title",{staticClass:"text-xs-center"},[e._v("Notfications")]),n("v-spacer")],1)],1):n("section",[n("v-toolbar",{attrs:{dense:"",expand:"",dark:""}},[n("v-toolbar-title",{staticClass:"text-xs-center"},[e._v("Nothing Here.")]),n("v-spacer")],1)],1),n("v-list",{attrs:{subheader:""}},e._l(e.user.gotFriendsReq,function(t){return n("v-list-tile",{key:t.userName,attrs:{avatar:""}},[n("v-list-tile-avatar",[n("img",{attrs:{src:t.userImg}})]),e._v("\n            "+e._s(t.userName)+" Has sent you friend request\n            "),n("v-list-tile-content"),n("v-list-tile-action",[n("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(n){return e.confirmFriendShip(t)}}},[n("b-icon",{attrs:{icon:"account-check"}})],1),n("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(n){return e.rejectFriendReq(t)}}},[n("b-icon",{attrs:{icon:"account-minus"}})],1)],1)],1)}),1),n("v-divider")],1)],1)],1)],1):n("section",{staticClass:"no-notification"},[e._v("Nothing here.")])},Et=[],Bt={props:["user"],data:function(){return{currUser:null}},methods:{confirmFriendShip:function(e){this.$emit("makeFriends",e)},rejectFriendReq:function(e){this.$emit("rejectReq",e)}},computed:{checkIfNotfications:function(){return this.user.gotFriendsReq?"Notfications":"Nothing Here."}}},zt=Bt,Wt=(n("e780"),Object(v["a"])(zt,qt,Et,!1,null,"4be77b17",null)),At=Wt.exports,Jt={name:"profile",data:function(){return{isActive:!1,comp:"",loggedinUser:null,isFriends:!1}},mounted:function(){},created:function(){var e=this;this.comp=this.$store.getters.compToShoe;var t=this.$route.params.id;this.$store.dispatch({type:"loadDogById",dogId:t}),this.$store.dispatch({type:"loggedInUser"}).then(function(){e.loggedinUser=e.$store.getters.getcurrLoggedinUser})},methods:{openChat:function(e){var t=this;null!==this.loggedinUser?this.$store.dispatch({type:"loadDogById",dogId:e.userId}).then(function(){var e=t.$store.getters.getDog;console.log("curr dog",e),t.$store.dispatch({type:"isChatOpen",curDog:e}).then(function(){var n=t.$store.getters.getcurrLoggedinUser;t.$store.getters.isChatOpen&&f.$emit("chatOpen",e,n),p.emit("chat join",t.$store.getters.getcurrLoggedinUser)})}):this.$toast.open({message:"You need to login",type:"is-danger",duration:2e3})},toggleNav:function(){this.isActive=!this.isActive},addLike:function(e){var t=this;if(null===this.loggedinUser)this.$toast.open({message:"You need to login",type:"is-danger",duration:2e3});else{var n=this.loggedinUser.sentLikes;n.find(function(e){return e===t.dog._id})?this.$toast.open({message:"You are already Liked",type:"is-danger",duration:2e3}):this.$store.dispatch({type:"updateFriendLike",dogId:e}).then(function(){t.$toast.open({message:"Like successfully!",type:"is-success",duration:2e3})})}},addFriend:function(e){var t=this;if(null!==this.loggedinUser){var n=this.loggedinUser.friends,r=this.loggedinUser.sentFriendsReq;n.find(function(e){return e.userId===t.dog._id})?(this.isFriends=!1,this.$toast.open({message:"You are already friend",type:"is-danger",duration:2e3})):r.find(function(e){return e===t.dog._id})?this.$toast.open({message:"You have already sent friend request",type:"is-danger",duration:2e3}):this.$store.dispatch({type:"updateFriendReq",dogId:e}).then(function(){t.$toast.open({message:"friend request successfully sent!",type:"is-success",duration:2e3})})}else this.$toast.open({message:"You need to login",type:"is-danger",duration:2e3})},openCopm:function(e){this.comp=e},onGoTo:function(e){this.$store.dispatch({type:"loadDogById",dogId:e}),this.$router.push("/user/".concat(e))},makeFriendship:function(e){this.$store.dispatch({type:"makeFriendShip",dog:e})},rejectFriendReq:function(e){this.$store.dispatch({type:"rejectFriendShip",dog:e})},removeUser:function(e){console.log(e),this.$store.dispatch({type:"removeFriend",dogId:e}),this.$toast.open({message:"Remove friend successfully",type:"is-success",duration:2e3})}},computed:{notMyProfile:function(){return!this.loggedinUser||this.loggedinUser._id!==this.dog._id},dog:function(){return this.$store.getters.getDog},gender:function(){return"female"===this.dog.preference.gender?"she":"he"},who:function(){return this.dog.owner.fullName},imgToLoad:function(){return this.dog.profileImg?this.dog.profileImg:"https://www.sunnyskyz.com/uploads/2016/12/nlf37-dog.jpg"},backImgToLoad:function(){return this.dog.profileImg?this.dog.backImg:"https://www.sunnyskyz.com/uploads/2016/12/nlf37-dog.jpg"}},components:{UserGallery:xt,UserFriends:Ot,UserMessages:Mt,UserNotfication:At}},Ht=Jt,Yt=(n("3b29"),Object(v["a"])(Ht,yt,kt,!1,null,"3384fb06",null)),Gt=Yt.exports,Vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"parkDetails"},[e.park?n("user-list-map",{staticClass:"map",attrs:{currPark:e.park}}):e._e(),e.park?n("user-li-list",{staticClass:"list",attrs:{currPark:e.park}}):e._e()],1)},Zt=[],Xt={name:"parkDetails",components:{UserListMap:xe,userLiList:we},created:function(){this.park=this.$store.getters.getCurrPark},data:function(){return{park:null}}},Kt=Xt,Qt=(n("6c8e"),Object(v["a"])(Kt,Vt,Zt,!1,null,"b990baa6",null)),en=Qt.exports,tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.copyDog?n("section",{staticClass:"edit-user"},[n("v-form",{on:{submit:function(t){return t.preventDefault(),e.updateDog(t)}}},[n("v-text-field",{attrs:{name:"name",label:"Full name",type:"text"},model:{value:e.copyDog.owner.fullName,callback:function(t){e.$set(e.copyDog.owner,"fullName",t)},expression:"copyDog.owner.fullName"}}),n("v-text-field",{attrs:{name:"name",label:"Dog Name",type:"text"},model:{value:e.copyDog.preference.name,callback:function(t){e.$set(e.copyDog.preference,"name",t)},expression:"copyDog.preference.name"}}),n("v-text-field",{attrs:{name:"name",label:"Dog Type",type:"text"},model:{value:e.copyDog.preference.type,callback:function(t){e.$set(e.copyDog.preference,"type",t)},expression:"copyDog.preference.type"}}),n("v-text-field",{attrs:{name:"name",label:"Address",type:"text"},model:{value:e.copyDog.address,callback:function(t){e.$set(e.copyDog,"address",t)},expression:"copyDog.address"}}),n("v-text-field",{attrs:{name:"name",label:"Profile Img",type:"text"},model:{value:e.copyDog.profileImg,callback:function(t){e.$set(e.copyDog,"profileImg",t)},expression:"copyDog.profileImg"}}),n("div",{staticClass:"field"},[n("b-checkbox",{model:{value:e.copyDog.isAdmin,callback:function(t){e.$set(e.copyDog,"isAdmin",t)},expression:"copyDog.isAdmin"}},[e._v("Is Admin?")])],1),n("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(t){return e.updateDog(t)}}},[e._v("save")])],1)],1):e._e()},nn=[],rn={data:function(){return{copyDog:null}},created:function(){var e=this;this.$store.dispatch({type:"loadDogById",dogId:this.$route.params.id}).then(function(){e.copyDog=JSON.parse(JSON.stringify(e.$store.getters.getDog))})},methods:{updateDog:function(e){var t=this;this.$store.dispatch({type:"updateDog",dog:this.copyDog}).then(function(){t.$router.push("/user")})}}},sn=rn,on=(n("5122"),Object(v["a"])(sn,tn,nn,!1,null,null,null)),an=on.exports,cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.userLoc?n("section",{staticClass:"parksFeed",staticStyle:{}},[n("park-list",{attrs:{userLoc:e.userLoc,park:e.parkToShow,gardens:e.gardens},on:{nextPark:e.plusDivs}})],1):e._e()},un=[],ln="AIzaSyDg8EFZZ2HBS2X6aqRzwRwfEbPO9SJLPfc",dn={name:"parksFeed",data:function(){return{distance:"",userLoc:null,gardens:[],photos:[],indexRoll:0}},components:{parkList:Me},created:function(){var e=this;Y.getPosition().then(function(t){e.userLoc={position:{lat:t.coords.latitude,lng:t.coords.longitude}},fe.getInfo(e.userLoc.position).then(function(t){for(var n=0;n<t.length;n++)e.gardens.push(t[n]),e.gardens[n].photos.length>0?e.photos.push(e.gardens[n].photos[0].photo_reference):e.photos.push("https://farm66.static.flickr.com/65535/47022341624_c26416f670_b.jpg"),e.gardens[n].photos[0].photo_reference&&(e.gardens[n].img="https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=".concat(e.gardens[n].photos[0].photo_reference,"&key=").concat(ln));var r=JSON.parse(JSON.stringify(e.gardens));e.$store.dispatch({type:"loadParks",gardens:r}).then(function(){e.$store.dispatch({type:"loadUserLoc"}).then(function(){e.$store.dispatch({type:"loadParksLocFromUser"}).then(function(){e.gardens=e.$store.getters.getParks})})})})})},computed:{parkToShow:function(){if(this.gardens.length>0)return this.gardens[this.indexRoll]}},methods:{plusDivs:function(e){this.indexRoll>=0&&this.indexRoll<4&&(1===e&&3===this.indexRoll?(this.indexRoll=0,this.parkToShow):-1===e&&0===this.indexRoll?(this.indexRoll=3,this.parkToShow):(this.indexRoll+=e,this.parkToShow))}}},gn=dn,pn=Object(v["a"])(gn,cn,un,!1,null,null,null),fn=pn.exports;r["default"].use(P["a"]);var hn=new P["a"]({routes:[{path:"/",component:it},{path:"/signup",component:gt},{path:"/user",component:bt},{path:"/user/:id",component:Gt},{path:"/user/edit/:id",component:an},{path:"/user/edit",component:an},{path:"/park-details",component:en},{path:"/park",component:Me},{path:"/parks",component:fn}]}),mn=(n("ac6a"),n("20d6"),n("55dd"),n("2f62"));r["default"].use(mn["a"]);var vn=new mn["a"].Store({strict:!0,state:{filterBy:null,dogs:[],sortByDistanceDogs:null,userLoc:null,currPark:null,parks:null,compInProfile:"Gallery",isChatOpen:!1,currUserChatWith:null,dog:null,currUser:null},mutations:{setIsOpenChat:function(e,t){var n=t.dog;e.isChatOpen=!e.isChatOpen,e.currUserChatWith=n},openChat:function(e){e.isChatOpen=!0},updateCompInProfile:function(e,t){var n=t.comp;e.compInProfile=n},setFilter:function(e,t){e.filterBy=JSON.parse(JSON.stringify(t))},setLoc:function(e,t){var n=t.pos;e.userLoc={position:{lat:n.coords.latitude,lng:n.coords.longitude}}},setFilterBy:function(e,t){var n=t.filterBy;e.filterBy=n},setSortDogs:function(e,t){for(var n=t.res,r=0;r<e.dogs.length;r++)e.dogs[r].distanceTextFromUser=n.elements[r].distance.text,e.dogs[r].distanceValueFromUser=n.elements[r].distance.value;e.currPark||e.dogs.sort(function(e,t){return e.distanceValueFromUser-t.distanceValueFromUser})},setSortParksNearUser:function(e,t){for(var n=t.res,r=0;r<e.parks.length;r++)e.parks[r].distanceTextFromUser=n.elements[r].distance.text,e.parks[r].distanceValueFromUser=n.elements[r].distance.value},setSortDogsByMap:function(e,t){for(var n=t.res,r=0;r<e.dogs.length;r++)e.dogs[r].distanceTextFromMap=n.elements[r].distance.text,e.dogs[r].distanceValueFromMap=n.elements[r].distance.value;e.dogs.sort(function(e,t){return e.distanceValueFromUser-t.distanceValueFromUser})},setDogs:function(e,t){var n=t.dogs;e.dogs=n},deleteDog:function(e,t){var n=t.dogId,r=e.dogs.findIndex(function(e){return e._id===n});e.dogs.splice(r,1)},addDog:function(e,t){var n=t.dog;e.dogs.unshift(n)},setCurrPark:function(e,t){var n=t.park;e.currPark=n},setParks:function(e,t){var n=t.gardens;e.parks=n},removeDogFriendShip:function(e,t){var n,r=t.updatedDog,s=e.dogs.findIndex(function(e){return e._id===r});e.dogs.forEach(function(e){e._id===r&&(n=e)}),n.friends.forEach(function(t,r){t.userId===e.currUser._id&&n.friends.splice(r,1)}),e.currUser.friends.forEach(function(t,r){t.userId===n._id&&e.currUser.friends.splice(r,1)});var o=e.dogs.findIndex(function(t){return t._id===e.currUser._id});e.dogs.splice(o,1,e.currUser),e.dogs.splice(s,1,n),e.dog=e.currUser},rejectDogFriendShip:function(e,t){var n,r=t.updatedDog,s=e.dogs.findIndex(function(e){return e._id===r.userId});e.dogs.forEach(function(e){e._id===r.userId&&(n=e)}),n.sentFriendsReq.forEach(function(t,r){t===e.currUser._id&&n.sentFriendsReq.splice(r,1)}),e.currUser.gotFriendsReq.forEach(function(t,r){t.userId===n._id&&e.currUser.gotFriendsReq.splice(r,1)});var o=e.dogs.findIndex(function(t){return t._id===e.currUser._id});e.dogs.splice(o,1,e.currUser),e.dogs.splice(s,1,n),e.dog=e.currUser},updateDogFriendShip:function(e,t){var n=t.updatedDog;console.log(e.dogs);var r,s=e.dogs.findIndex(function(e){return e._id===n.userId});e.dogs.forEach(function(e){e._id===n.userId&&(r=e)}),r.friends.push({userId:e.currUser._id,userImg:e.currUser.profileImg,userName:e.currUser.owner.fullName}),e.currUser.friends.push(n),r.sentFriendsReq.forEach(function(t,n){t===e.currUser._id&&r.sentFriendsReq.splice(n,1)}),e.currUser.gotFriendsReq.forEach(function(t,n){t.userId===r._id&&e.currUser.gotFriendsReq.splice(n,1)});var o=e.dogs.findIndex(function(t){return t._id===e.currUser._id});e.dogs.splice(o,1,e.currUser),e.dogs.splice(s,1,r),e.dog=e.currUser},updateDogFriendReq:function(e,t){var n,r=t.updatedDogId,s=e.dogs.findIndex(function(e){return e._id===r});e.dogs.forEach(function(e){e._id===r&&(n=e)}),n.gotFriendsReq.push({userId:e.currUser._id,userImg:e.currUser.profileImg,userName:e.currUser.owner.fullName});var o=e.dogs.findIndex(function(t){return t._id===e.currUser._id});e.currUser.sentFriendsReq.push(r),e.dogs.splice(o,1,e.currUser),e.dogs.splice(s,1,n)},updateDogLikes:function(e,t){var n,r=t.updatedDogId,s=e.dogs.findIndex(function(e){return e._id===r});e.dogs.forEach(function(e){e._id===r&&(n=e)}),n.gotLikes.push({userId:e.currUser._id,userImg:e.currUser.profileImg,userName:e.currUser.owner.fullName});var o=e.dogs.findIndex(function(t){return t._id===e.currUser._id});e.currUser.sentLikes.push(r),e.dogs.splice(o,1,e.currUser),e.dogs.splice(s,1,n)},updateDog:function(e,t){var n=t.dog,r=e.dogs.findIndex(function(e){return e._id===n._id});e.dogs.splice(r,1,n)},setDog:function(e,t){var n=t.dog;e.dog=n},setLoginUser:function(e,t){var n=t.currUserLoggedIn;e.currUser=n},setLoggedUser:function(e,t){var n=t.userLoggedNow;e.currUser=n},setLoggedOutUser:function(e){e.currUser=null}},getters:{compToShoe:function(e){return e.compInProfile},userYouChatWith:function(e){return e.currUserChatWith},dogsToShow:function(e){if(null===e.currUser){var t=[e.dogs[0],e.dogs[1],e.dogs[2],e.dogs[3]];return t}var n=e.dogs.filter(function(t){return t._id!==e.currUser._id});t=[n[0],n[1],n[2],n[3]];return t},getCurrPark:function(e){return e.currPark},getParks:function(e){return e.parks},isChatOpen:function(e){return e.isChatOpen},getUserLoc:function(e){return e.userLoc},getNotfications:function(e){return e.currUser.gotFriendsReq},gotLikes:function(e){return e.currUser.gotLikes},getLoggedinUser:function(e){return e.currUser},getcurrLoggedinUser:function(e){return e.currUser},getDog:function(e){return e.dog},getDogs:function(e){return e.dogs}},actions:{isChatOpen:function(e,t){var n=t.dog;e.commit({type:"setIsOpenChat",dog:n})},openChat:function(e){e.commit({type:"openChat"})},loadSortDogs:function(e){for(var t=[],n=0;n<e.state.dogs.length;n++)t.push(e.state.dogs[n].location.lat+","+e.state.dogs[n].location.lng);t=t.join("|"),fe.getDist({userLoc:e.state.userLoc.position.lat+","+e.state.userLoc.position.lng,usersLoc:t}).then(function(t){return e.commit({type:"setSortDogs",res:t}),t}),e.state.currPark&&fe.getDist({userLoc:e.state.currPark.geometry.location.lat+","+e.state.currPark.geometry.location.lng,usersLoc:t}).then(function(t){return e.commit({type:"setSortDogsByMap",res:t}),t})},loadCompInProfile:function(e,t){var n=t.comp;return e.commit({type:"updateCompInProfile",comp:n}),n},loadParks:function(e,t){var n=t.gardens;e.commit({type:"setParks",gardens:n})},loadParksLocFromUser:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t){var n,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(n=[],r=0;r<t.state.parks.length;r++)n.push(t.state.parks[r].geometry.location.lat+","+t.state.parks[r].geometry.location.lng);return n=n.join("|"),e.prev=3,e.next=6,fe.getDist({userLoc:t.state.userLoc.position.lat+","+t.state.userLoc.position.lng,usersLoc:n});case 6:return s=e.sent,t.commit({type:"setSortParksNearUser",res:s}),e.abrupt("return",s);case 11:e.prev=11,e.t0=e["catch"](3),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[3,11]])}));function t(t){return e.apply(this,arguments)}return t}(),loadDogs:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,null!==t.state.filterBy){e.next=8;break}return r="",e.next=5,Y.query(r);case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,Y.query(t.state.filterBy);case 10:n=e.sent;case 11:return t.commit({type:"setDogs",dogs:n}),t.commit({type:"setFilterBy",filterBy:""}),e.abrupt("return",n);case 16:e.prev=16,e.t0=e["catch"](0),console.log(e.t0);case 19:case"end":return e.stop()}},e,null,[[0,16]])}));function t(t){return e.apply(this,arguments)}return t}(),loadUserLoc:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.getPosition();case 3:return n=e.sent,t.commit({type:"setLoc",pos:n}),e.abrupt("return",n);case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t){return e.apply(this,arguments)}return t}(),loadDogById:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.dogId,e.prev=1,e.next=4,Y.getById(r);case 4:return s=e.sent,t.commit({type:"setDog",dog:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,n){return e.apply(this,arguments)}return t}(),deleteDog:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.remove(n.dogId);case 3:t.commit({type:"deleteDog",dogId:n.dogId}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t,n){return e.apply(this,arguments)}return t}(),addDog:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.dog,e.prev=1,e.next=4,Y.add(r);case 4:return s=e.sent,t.commit({type:"addDog",dog:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,n){return e.apply(this,arguments)}return t}(),updateDog:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.dog,e.prev=1,e.next=4,Y.update(r);case 4:return s=e.sent,t.commit({type:"updateDog",dog:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,n){return e.apply(this,arguments)}return t}(),goToPark:function(e,t){var n=t.park;e.commit({type:"setCurrPark",park:n})},setFilter:function(e,t){var n=t.filterBy;e.commit({type:"setFilterBy",filterBy:n})},userLogout:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.logOut();case 3:t.commit({type:"setLoggedOutUser"}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t){return e.apply(this,arguments)}return t}(),userSignup:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.user,e.prev=1,e.next=4,Y.signUp(r);case 4:s=e.sent,console.log("This is Great signup!",s),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));function t(t,n){return e.apply(this,arguments)}return t}(),userLogin:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.currUser,e.prev=1,e.next=4,Y.logIn(r);case 4:s=e.sent,t.commit({type:"setLoginUser",currUserLoggedIn:s}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));function t(t,n){return e.apply(this,arguments)}return t}(),removeFriend:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.dogId,e.prev=1,e.next=4,Y.removeFriendship(r);case 4:return s=e.sent,t.commit({type:"removeDogFriendShip",updatedDog:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,n){return e.apply(this,arguments)}return t}(),rejectFriendShip:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.dog,e.prev=1,e.next=4,Y.rejectFriendshipOn(r);case 4:return s=e.sent,t.commit({type:"rejectDogFriendShip",updatedDog:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,n){return e.apply(this,arguments)}return t}(),makeFriendShip:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.dog,e.prev=1,e.next=4,Y.makeFriendshipOn(r);case 4:return s=e.sent,t.commit({type:"updateDogFriendShip",updatedDog:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,n){return e.apply(this,arguments)}return t}(),updateFriendLike:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.dogId,e.prev=1,e.next=4,Y.addLike(r);case 4:return s=e.sent,t.commit({type:"updateDogLikes",updateDogId:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,n){return e.apply(this,arguments)}return t}(),updateFriendReq:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.dogId,e.prev=1,e.next=4,Y.sendFriendReq(r);case 4:return s=e.sent,t.commit({type:"updateDogFriendReq",updatedDogId:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,n){return e.apply(this,arguments)}return t}(),loggedInUser:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.getLoggedinUser();case 3:n=e.sent,null===n?t.commit({type:"setLoggedUser",userLoggedNow:null}):t.commit({type:"setLoggedUser",userLoggedNow:n}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));function t(t){return e.apply(this,arguments)}return t}()}}),bn=n("c1df"),yn=n.n(bn);r["default"].filter("formatNum",function(e){return e.toLocaleString()}),r["default"].filter("timeAgo",function(e){return yn()(e).format("LLL")});var kn=n("94839");Object(kn["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var _n=n("755e"),wn=n("8a03"),Cn=n.n(wn),Un=(n("5abe"),n("ce5b")),jn=n.n(Un),xn=(n("bf40"),n("5363"),n("0086")),$n=n.n(xn);r["default"].use(Cn.a),r["default"].use(jn.a),r["default"].use(jn.a,{iconfont:"mdi"}),r["default"].use($n.a),r["default"].config.productionTip=!1,r["default"].use(_n,{load:{key:"",libraries:"places"}}),new r["default"]({router:hn,store:vn,render:function(e){return e(S)}}).$mount("#app")},"585f":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var r=n("5e27"),s=n.n(r);s.a},"5e27":function(e,t,n){},"67de":function(e,t,n){},"6c8e":function(e,t,n){"use strict";var r=n("f8ab"),s=n.n(r);s.a},7177:function(e,t,n){},"7e08":function(e,t,n){"use strict";var r=n("b34b"),s=n.n(r);s.a},"83c1":function(e,t,n){"use strict";var r=n("585f"),s=n.n(r);s.a},8933:function(e,t,n){},9483:function(e,t,n){},"96fa":function(e,t,n){e.exports=n.p+"img/home-mobile.6922cb6e.svg"},"9d54":function(e,t,n){e.exports=n.p+"img/home.3a971777.svg"},"9e74":function(e,t,n){"use strict";var r=n("8933"),s=n.n(r);s.a},a35a:function(e,t,n){},a5fc:function(e,t,n){"use strict";var r=n("239b"),s=n.n(r);s.a},b34b:function(e,t,n){},b461:function(e,t,n){"use strict";var r=n("3c9b"),s=n.n(r);s.a},ba25:function(e,t,n){"use strict";var r=n("7177"),s=n.n(r);s.a},bb24:function(e,t,n){},bcd6:function(e,t,n){"use strict";var r=n("67de"),s=n.n(r);s.a},da3f:function(e,t,n){},e237:function(e,t,n){},e780:function(e,t,n){"use strict";var r=n("da3f"),s=n.n(r);s.a},ec74:function(e,t,n){"use strict";var r=n("e237"),s=n.n(r);s.a},f8ab:function(e,t,n){}});
//# sourceMappingURL=app.39d6fed9.js.map